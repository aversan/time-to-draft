{% extends 'layouts/application.html' %}
{% from 'macros/helpers.html' import sprite %}
{% import "items/messages/message-button-container.html" as buttonContainer %}
{% import "items/messages/message-items.html" as messageItems %}
{% import "items/posts/posts-list.html" as postItems %}
{% import "items/tabs/tabs.html" as tabs %}

{% block pageClass %}{{ 'has-message-button' }}{% endblock %}

{% block content %}

<div class="mdl-tabs mdl-tabs--lg is-upgraded">
    <div class="page-header">
        <div class="container">
        	<div class="row">
        		<div class="col-sm-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2">
    		        <div class="page-header__row">
    			        <h1 class="page-header__title">
    			            Мои блоги
    			        </h1>
    			        <div class="page-header-space"></div>
                        <div class="page-header__action page-header__action--abs">
                            <div class="switcher js-blogs-tabs-container">
                                <div class="is-active">
                                    <button class="btn btn-primary btn-alt btn-sm btn-higher hidden-sm-down btn-responsive" data-toggle="modal" data-target="#modal_form_new_blog">Создать блог</button>
                                </div>
                                <div>
                                    <a role="button" class="btn btn-primary btn-alt btn-sm btn-higher hidden-sm-down btn-responsive" href="new-post.html">Написать пост</a>
                                </div>
                            </div>
                        </div>
    		        </div>    			
                    <div class="page-header__row page-header__row--bottom">
                        <div class="swiper-container js-swiper-container-tabs mdl-tabs__bar-container">
                            <div class="swiper-wrapper mdl-tabs__tab-bar" data-uk-switcher="{ connect: '.js-blogs-tabs-container' }" data-connect=".js-blogs-tabs-container">
                                <span class="mdl-tabs__tab swiper-slide is-active" data-uk-switcher-item="0">Все блоги</span>
                                <span class="mdl-tabs__tab swiper-slide" data-uk-switcher-item="1">Все посты</span>
                            </div>
                            <div class="swiper-scrollbar"></div>
                        </div>
                    </div>
        		</div>
        	</div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2 js-blogs-tabs-container">
                <div class="mdl-tabs__panel is-active">
                    <div class="message-wrapper">
                        {{ messageItems.blogMessageItems( hasAction=true ) }}
                    </div>
                    {% include "items/pagination/pagination.html" %}
                </div>
                <div class="mdl-tabs__panel">
                    {{ postItems.postsList( hasAction=true ) }}
                    {% include "items/pagination/pagination.html" %}
                </div>
            </div>
        </div>
    </div>
</div>

<div class="switcher js-blogs-tabs-container">
    <div class="is-active">
        <div class="message-button-container hidden-md-up text-xs-center">
            <div class="container">
                <button class="btn btn-sm btn-higher btn-responsive btn-alt btn-primary" data-toggle="modal" data-target="#modal_form_new_blog">Создать блог</button>
            </div>
        </div>
    </div>
    <div>
        <div class="message-button-container hidden-md-up text-xs-center">
            <div class="container">
                <a role="button" class="btn btn-sm btn-higher btn-responsive btn-alt btn-primary" href="new-post.html">Написать пост</a>                
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block modal %}
    {% include "items/modals/modal_form_new_blog.html" %}
{% endblock %}
