{% from 'macros/helpers.html' import sprite %}
{% import "items/dropdown/dropdown.html" as dropdown %}

{% macro header(
    class='',
    loggedIn=true
) %}
<header class="navbar navbar--header navbar-dark js-header {% if loggedIn %} is-logged {% endif %} {{ class }}" data-uk-sticky="{ media: 960, showup: true, animation: 'uk-animation-slide-top' }">
    <div class="container">
        <button class="navbar-toggler float-xs-right hidden-md-up navbar-toggler js-toggler" type="button">
            {{ sprite('hamburger', '0 0 1 1', 'icon') }}
        </button>
        <a class="navbar-brand float-xs-none float-md-left" href="#">
            <img src="/img/logos/logo-light.svg" alt="Time to Draft" width="81" height="26">
        </a>
        {#
        <div class="nav navbar-nav hidden-md-up float-xs-right">
            <a class="nav-item nav-link" href="#">
                Стат-центр
                {{ sprite('live', '0 0 1 1', 'icon') }}
            </a>
        </div>
        #}
        <div class="collapse navbar-toggleable-sm float-md-right js-collapse">
            <button type="button" class="close navbar-close js-close" type="button">
              <span aria-hidden="true"><i class="icon -close"></i></span>
            </button>
            <div class="nav navbar-nav navbar-main-menu">
                <div class="navbar-nav-divider hidden-md-up"></div>
                {#
                <a class="nav-item nav-link" href="#">
                    Стат-центр
                    {{ sprite('live', '0 0 1 1', 'icon') }}
                </a>
                #}
                <a class="nav-item nav-link" href="#">Игроки</a>
                <a class="nav-item nav-link" href="#">Команды</a>
                <a class="nav-item nav-link" href="#">Площадки</a>
                <a class="nav-item nav-link" href="#">Стратегии</a>
                <a class="nav-item nav-link hidden-md-down" href="#">Эксперты</a>
                <a class="nav-item nav-link hidden-md-down" href="#">Блоги</a>
                <a class="nav-item nav-link hidden-md-down" href="#">Форум</a>
                {% if loggedIn %}
                    <div class="navbar-nav-divider hidden-md-up"></div>
                    <a class="nav-item nav-link hidden-md-up" href="#">Выйти</a>
                {% endif %}
            </div>
            <div class="btn-group navbar-main-menu navbar__btn-group-icon hidden-sm-down hidden-lg-up">
                <a href="#" class="btn btn--icon navbar__btn-icon"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    {{ sprite('more', '0 0 1 1', 'icon') }}
                </a>
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" href="">
                        Эксперты
                    </a>
                    <a class="dropdown-item" href="">
                        Блоги
                    </a>
                    <a class="dropdown-item" href="">
                        Форум
                    </a>
                </div>
            </div>
            <div class="btn-group navbar__btn-group-icon navbar-search js-search">
                <label class="btn btn--icon navbar__btn-icon js-search-toggle" for="site-search">
                    {{ sprite('search', '0 0 1 1', 'icon') }}
                </label>
                <div class="navbar-search__expandable-holder">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--has-icon navbar-search__textfield">
                        <label for="site-search">
                            {{ sprite('search', '0 0 1 1', 'icon mdl-textfield__icon') }}
                        </label>
                        <input class="mdl-textfield__input" type="text" id="site-search">
                        <label class="mdl-textfield__label" for="site-search">Поиск по сайту</label>
                    </div>
                </div>
            </div>
            {% if loggedIn %}
                <div class="btn-group navbar__btn-group-icon hidden-sm-down">
                    <a href="#" class="btn btn--icon navbar__btn-icon"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="sprite -notification icon mdl-badge mdl-badge--overlap" data-badge="999">
                            <svg viewBox="0 0 1 1"><use xlink:href="img/icons.svg#notification" /></use></svg>
                        </span>
                        <span class="sprite -notification-blank icon">
                            <svg viewBox="0 0 1 1"><use xlink:href="img/icons.svg#notification-blank" /></use></svg>
                        </span>
                    </a>
                    {{dropdown.dropdownMenuNote(
                        class='dropdown-menu-right'
                    )}}
                </div>
                <div class="btn-group hidden-sm-down">
                    <div class="dropdown-toggle" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        {{ sprite('person-circle', '0 0 1 1', 'icon avatar avatar--size-6 navbar__avatar') }}
                    </div>
                    {{dropdown.dropdownMenuUser(
                        class='dropdown-menu-right'
                    )}}
                </div>
                <div class="navbar-user-item hidden-md-up">
                    <div class="navbar-user-item__primary">
                        {{ sprite('person-circle', '0 0 1 1', 'icon avatar avatar--size-5 navbar__avatar') }}
                        <h6 class="navbar-user-item__title">Andrei Filipovich</h6>
                        <div class="navbar-user-item__sub-title">Профиль</div>
                    </div>
                    <div class="navbar-user-item__secondary">
                        <a href="#" class="btn btn--icon navbar__btn-icon js-header-notes-toggler">
                            <span class="sprite -notification icon mdl-badge mdl-badge--overlap" data-badge="3">
                                <svg viewBox="0 0 1 1"><use xlink:href="img/icons.svg#notification" /></use></svg>
                            </span>
                        </a>
                    </div>
                </div>
                <div class="nav navbar-nav hidden-md-up navbar-user-nav">
                    <div class="navbar-nav-divider"></div>
                    <a class="nav-item nav-link nav-link--accent" href="#">Написать пост</a>
                    <a class="nav-item nav-link" href="#">Мои блоги</a>
                    <a class="nav-item nav-link" href="#">Личные сообщения</a>
                </div>
            {% else %}
                <a class="btn btn-sm btn-primary-outline btn-alt navbar__btn hidden-sm-down" href="#">
                    Войти
                </a>
                <div class="navbar-user-item hidden-md-up">
                    <div class="navbar-user-item__primary">
                        {{ sprite('person-circle', '0 0 1 1', 'icon avatar avatar--size-6 navbar__avatar') }}
                        <a class="btn btn-link" href="">Войти</a>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</header>
{% if loggedIn %}
    <div class="navbar navbar--header navbar-dark navbar--header--notes js-header-notes">
        <div class="collapse navbar-toggleable-sm js-collapse">
            <div class="nav navbar-nav navbar-main-menu">
                <a class="nav-item nav-link js-prev" href="#">
                    <i class="icon icon--chevron-left-lg"></i>Назад
                </a>
            </div>
            <button type="button" class="close navbar-close js-close" type="button">
              <span aria-hidden="true"><i class="icon -close"></i></span>
            </button>
            {{dropdown.dropdownMenuNote(
                class=''
            )}}
        </div>
    </div>
{% endif %}
{% endmacro %}